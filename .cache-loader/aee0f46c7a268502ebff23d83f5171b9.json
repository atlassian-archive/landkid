{"remainingRequest":"/Users/lbatchelor/src/landkid/node_modules/ts-loader/index.js??ref--4-1!/Users/lbatchelor/src/landkid/src/static/current-state/components/QueueItem.tsx","dependencies":[{"path":"/Users/lbatchelor/src/landkid/src/static/current-state/components/QueueItem.tsx","mtime":1542169692905},{"path":"/Users/lbatchelor/src/landkid/node_modules/cache-loader/dist/cjs.js","mtime":1542164158615},{"path":"/Users/lbatchelor/src/landkid/node_modules/ts-loader/index.js","mtime":1542164158621}],"contextDependencies":[],"result":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst React = require(\"react\");\nconst emotion_1 = require(\"emotion\");\nconst distanceInWords = require(\"date-fns/distance_in_words_to_now\");\nconst Lozenge_1 = require(\"./Lozenge\");\nlet queueItemStyles = emotion_1.css({\n    display: 'block',\n    boxSizing: 'border-box',\n    padding: '12px 12px 8px',\n    position: 'relative',\n    boxShadow: 'rgba(23, 43, 77, 0.24) 0px 0px 1px 0px',\n    backgroundColor: 'white',\n    borderRadius: '3px',\n    transition: 'box-shadow 0.3s',\n    color: 'inherit',\n    '&:hover': {\n        boxShadow: 'rgba(23, 43, 77, 0.32) 0px 4px 8px -2px, rgba(23, 43, 77, 0.25) 0px 0px 1px',\n        color: 'inherit',\n        textDecoration: 'none',\n    },\n    '& .queue-item__title': {\n        fontSize: '16px',\n        fontWeight: '500',\n        lineHeight: '1.25',\n        maxWidth: '100%',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n        marginBottom: '3px',\n    },\n    '& .queue-item__status-line': {\n        display: 'flex',\n        flexGrow: 1,\n        flexWrap: 'wrap',\n        marginTop: 'auto',\n        overflow: 'hidden',\n        height: '28px',\n    },\n    '& .queue-item__status-item': {\n        display: 'inline-flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        maxWidth: 'calc(100% - 16px)',\n        height: '28px',\n        '& + .queue-item__status-item': {\n            marginLeft: '9px',\n        },\n    },\n    '& .queue-item__status-item-title': {\n        display: 'block',\n        color: 'var(--n300-color)',\n        fontSize: '12px',\n        lineHeight: '1.33333',\n        marginRight: '6px',\n    },\n});\nlet queueItemJoinedStyles = emotion_1.css({\n    paddingTop: '27px',\n    position: 'relative',\n    '&:before': {\n        position: 'absolute',\n        display: 'block',\n        content: '\"\"',\n        width: '1px',\n        height: '27px',\n        background: 'var(--n20-color)',\n        top: '0',\n        left: '50%',\n        marginLeft: '-1px',\n    },\n});\nlet duration = (start, end) => {\n    let diffMs = end - start;\n    let rawSeconds = diffMs / 1000;\n    let minutes = Math.floor(rawSeconds / 60);\n    let seconds = Math.floor(rawSeconds - minutes * 60);\n    return `${minutes}m ${seconds}s`;\n};\nexports.StatusItem = props => (React.createElement(\"div\", { className: \"queue-item__status-item\" },\n    React.createElement(\"span\", { className: \"queue-item__status-item-title\" }, props.title),\n    props.children));\nconst buildStatusToAppearance = {\n    DEFAULT: 'default',\n    SUCCESSFUL: 'success',\n    FAILED: 'removed',\n    STOPPED: 'moved',\n    INPROGRESS: 'inprogress',\n    PENDING: 'new',\n};\nfunction QueueItem(props) {\n    let { build } = props;\n    return (React.createElement(\"a\", { className: `${queueItemStyles} queue-item`, href: build.buildUrl ? build.buildUrl : '#' },\n        React.createElement(\"div\", { className: \"queue-item__title\" },\n            React.createElement(\"a\", { href: build.pullRequestUrl },\n                \"[PR #\",\n                build.pullRequestId,\n                \"]\"),\n            ' ',\n            build.title),\n        React.createElement(\"div\", { className: \"queue-item__status-line\" },\n            React.createElement(exports.StatusItem, { title: \"Status:\" },\n                React.createElement(Lozenge_1.Lozenge, { appearance: buildStatusToAppearance[build.buildStatus || 'DEFAULT'] }, build.buildStatus)),\n            React.createElement(exports.StatusItem, { title: \"Author:\" },\n                React.createElement(Lozenge_1.Lozenge, null, build.username)),\n            build.finishedTime ? (React.createElement(exports.StatusItem, { title: \"Finished:\" }, distanceInWords(build.finishedTime, { addSuffix: true }))) : null,\n            build.finishedTime ? (React.createElement(exports.StatusItem, { title: \"Duration:\" },\n                React.createElement(Lozenge_1.Lozenge, { appearance: \"new\" }, duration(+new Date(build.createdTime), +new Date(build.finishedTime))))) : null)));\n}\nexports.QueueItem = QueueItem;\nfunction QueueItemJoined(props) {\n    return (React.createElement(\"div\", { className: `${queueItemJoinedStyles} queue-item-joined` },\n        React.createElement(QueueItem, Object.assign({}, props))));\n}\nexports.QueueItemJoined = QueueItemJoined;\n",{"version":3,"file":"/Users/lbatchelor/src/landkid/src/static/current-state/components/QueueItem.tsx","sourceRoot":"","sources":["/Users/lbatchelor/src/landkid/src/static/current-state/components/QueueItem.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { css } from 'emotion';\nimport * as distanceInWords from 'date-fns/distance_in_words_to_now';\nimport { Lozenge } from './Lozenge';\nimport { BuildState, LandRequest, StatusEvent } from '../../../types';\nimport { LozengeAppearance } from './types';\n\nlet queueItemStyles = css({\n  display: 'block',\n  boxSizing: 'border-box',\n  padding: '12px 12px 8px',\n  position: 'relative',\n  boxShadow: 'rgba(23, 43, 77, 0.24) 0px 0px 1px 0px',\n  backgroundColor: 'white',\n  borderRadius: '3px',\n  transition: 'box-shadow 0.3s',\n  color: 'inherit',\n\n  '&:hover': {\n    boxShadow:\n      'rgba(23, 43, 77, 0.32) 0px 4px 8px -2px, rgba(23, 43, 77, 0.25) 0px 0px 1px',\n    color: 'inherit',\n    textDecoration: 'none',\n  },\n\n  '& .queue-item__title': {\n    fontSize: '16px',\n    fontWeight: '500',\n    lineHeight: '1.25',\n    maxWidth: '100%',\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    marginBottom: '3px',\n  },\n\n  '& .queue-item__status-line': {\n    display: 'flex',\n    flexGrow: 1,\n    flexWrap: 'wrap',\n    marginTop: 'auto',\n    overflow: 'hidden',\n    height: '28px',\n  },\n\n  '& .queue-item__status-item': {\n    display: 'inline-flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    maxWidth: 'calc(100% - 16px)',\n    height: '28px',\n\n    '& + .queue-item__status-item': {\n      marginLeft: '9px',\n    },\n  },\n\n  '& .queue-item__status-item-title': {\n    display: 'block',\n    color: 'var(--n300-color)',\n    fontSize: '12px',\n    lineHeight: '1.33333',\n    marginRight: '6px',\n  },\n});\n\nlet queueItemJoinedStyles = css({\n  paddingTop: '27px',\n  position: 'relative',\n  '&:before': {\n    position: 'absolute',\n    display: 'block',\n    content: '\"\"',\n    width: '1px',\n    height: '27px',\n    background: 'var(--n20-color)',\n    top: '0',\n    left: '50%',\n    marginLeft: '-1px',\n  },\n});\n\nlet duration = (start: number, end: number) => {\n  let diffMs = end - start;\n  let rawSeconds = diffMs / 1000;\n  let minutes = Math.floor(rawSeconds / 60);\n  let seconds = Math.floor(rawSeconds - minutes * 60);\n  return `${minutes}m ${seconds}s`;\n};\n\nexport type StatusItemProps = {\n  title: string;\n};\n\nexport const StatusItem: React.FunctionComponent<StatusItemProps> = props => (\n  <div className=\"queue-item__status-item\">\n    <span className=\"queue-item__status-item-title\">{props.title}</span>\n    {props.children}\n  </div>\n);\n\nconst buildStatusToAppearance: Record<BuildState, LozengeAppearance> = {\n  DEFAULT: 'default',\n  SUCCESSFUL: 'success',\n  FAILED: 'removed',\n  STOPPED: 'moved',\n  INPROGRESS: 'inprogress',\n  PENDING: 'new',\n};\n\nexport type QueueItemProps = {\n  build: LandRequest;\n  statusEvent?: StatusEvent;\n};\n\nexport function QueueItem(props: QueueItemProps) {\n  let { build } = props;\n  return (\n    <a\n      className={`${queueItemStyles} queue-item`}\n      href={build.buildUrl ? build.buildUrl : '#'}\n    >\n      <div className=\"queue-item__title\">\n        <a href={build.pullRequestUrl}>[PR #{build.pullRequestId}]</a>{' '}\n        {build.title}\n      </div>\n      <div className=\"queue-item__status-line\">\n        <StatusItem title=\"Status:\">\n          <Lozenge\n            appearance={\n              buildStatusToAppearance[\n                (build.buildStatus as BuildState) || 'DEFAULT'\n              ]\n            }\n          >\n            {build.buildStatus}\n          </Lozenge>\n        </StatusItem>\n\n        <StatusItem title=\"Author:\">\n          <Lozenge>{build.username}</Lozenge>\n        </StatusItem>\n\n        {build.finishedTime ? (\n          <StatusItem title=\"Finished:\">\n            {distanceInWords(build.finishedTime, { addSuffix: true })}\n          </StatusItem>\n        ) : null}\n\n        {build.finishedTime ? (\n          <StatusItem title=\"Duration:\">\n            <Lozenge appearance=\"new\">\n              {duration(\n                +new Date(build.createdTime),\n                +new Date(build.finishedTime),\n              )}\n            </Lozenge>\n          </StatusItem>\n        ) : null}\n      </div>\n    </a>\n  );\n}\n\nexport function QueueItemJoined(props: QueueItemProps) {\n  return (\n    <div className={`${queueItemJoinedStyles} queue-item-joined`}>\n      <QueueItem {...props} />\n    </div>\n  );\n}\n"]}]}